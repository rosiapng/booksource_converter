<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base64 and URL Decoder</title>
  <link rel="stylesheet" href="./css/index_styles.css">
</head>
<body>
     <h2 class="big-title">书源语法转换器(xpath,css)</h2>
    <p class="author">By 小猫咪Rosia P'ng</p>
 <!-- Navigation Links in Button Form -->
        <div class="nav-box">
    <nav>
        <a class="nav-button" href="./index.html">书源语法转换器(xpath,css)</a>
        <a class="nav-button" href="./manyajs.html">傻瓜式益达转漫鸭正文JS器</a>
        <a class="nav-button" href="./jijian.html">傻瓜极简写源工具</a>
        <a class="nav-button" href="./jjfen.html">极简源发现工具</a>
        <a class="nav-button" href="./yuedu.html">阅读源发现格式转换极简源发现</a>
        <a class="nav-button" href="./beuti.html">美化Json和JS</a>
        <a class="nav-button" href="./code.html">Js测试</a>
        <a class="nav-button" href="./base64.html">Base64和URI decode</a>
        <a class="nav-button" href="./aes.html">Crypto AES解密测试</a>
        <a class="nav-button" href="./yuedutool.html">开源阅读/源阅发现转换工具</a>
        <a class="nav-button" href="./qingnao.html">极简微光转换器</a>
        <a class="nav-button" href="./jsob.html">JS代码混淆</a>
    </nav>
</div>

   <h1>Base64, URL, and Eval Decoder</h1>

<label for="inputBox">Input:</label>
<textarea id="inputBox" class="input-box" placeholder="Enter text here..."></textarea>

<label for="decodeType">Select Decode Type:</label>
<select id="decodeType" class="decoder-select">
    <option value="base64">Base64 Decode to UTF-8</option>
    <option value="url">URL Decode</option>
    <option value="eval">Eval Decode</option>
</select>

<button onclick="decode()">Decode</button>

<h2>Output (Decoded):</h2>
<textarea id="outputBox" class="output-box" readonly></textarea>

<script>
    function decode() {
        const input = document.getElementById('inputBox').value;
        const decodeType = document.getElementById('decodeType').value;
        let output = '';

        try {
            if (decodeType === 'base64') {
            // Decode Base64 and convert to UTF-8
            const binaryString = atob(input);
            const bytes = new Uint8Array(binaryString.length);
            for (let i = 0; i < binaryString.length; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            output = new TextDecoder('utf-8').decode(bytes);
            } else if (decodeType === 'url') {
                output = decodeURIComponent(input); // URL decoding
            } else if (decodeType === 'eval') {
                output = executeEval(input); // Eval decoding
            }
            document.getElementById('outputBox').value = output;
        } catch (error) {
            document.getElementById('outputBox').value = 'Error: Invalid input for selected decode type';
        }
    }

    function executeEval(evalCode) {
        try {
            evalCode = evalCode.replace(/^eval/, ""); // Remove initial eval if present
            return eval(evalCode);
        } catch (e) {
            return "Error: " + e;
        }
    }
</script>


</body>
</html>
